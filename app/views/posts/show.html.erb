<p class=" label label-success" id="notice"><%= notice %></p>

<%= render :partial => @post %>

<%= link_to 'Edit', edit_post_path(@post), class: 'btn btn-primary' %>
<%= link_to 'Back', posts_path, class: 'btn btn-info' %>

<h1>Comments</h1>
<div id="comments">
  <%= render :partial => @post.comments %>
</div>

<%= bootstrap_form_for [@post, Comment.new] do |f| %>
  <% if @comment && @comment.errors.any? %>
    <% @comment.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
  <% end %>
  <p>
    <h3><%= f.label :body, "New comment" %></h3>
    <%= f.text_area :body, :rows => "5" %>
  </p>
  <p class="field"><%= f.submit "Add comment" %></p>
<% end %>

<script>
  $('#new_comment').submit(function(e) {
    if($('#comment_body').val() === "") {
      e.preventDefault();
    }
  });
</script>
